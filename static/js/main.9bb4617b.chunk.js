(this.webpackJsonpsap_assignment=this.webpackJsonpsap_assignment||[]).push([[0],{35:function(t,e,n){"use strict";n.r(e);var r=n(7),a=n(3),c=n.n(a),o=n(20),s=n.n(o),i=n(9),u=n.n(i),l=n(17),p=n(11),h=n(21),d=n(22),f=n(24),b=n(23),g=n(37),j=n(16);j.a.initializeApp({apiKey:"AIzaSyCcCFP-7ADp4Qfs3Hls8fo9-oE94ccPljY",authDomain:"sapinnovationassignment.firebaseapp.com",databaseURL:"https://sapinnovationassignment-default-rtdb.firebaseio.com",projectId:"sapinnovationassignment",storageBucket:"sapinnovationassignment.appspot.com",messagingSenderId:"576674288045",appId:"1:576674288045:web:716396b6d97b833dacd124"});var m=j.a,v=(n(34),function(t){Object(f.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={data:[],select_list:[]},t._handleSelect=function(e){t.handleSelect(e.target.value)},t.renderNewOption=function(t){return Object(r.jsx)("option",{children:t})},t}return Object(d.a)(n,[{key:"getInitialCollection",value:function(){var t=Object(p.a)(u.a.mark((function t(){var e,n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],n=m.firestore(),t.next=4,n.collection("categories").get().then((function(t){t.forEach((function(t){r=t.data()}))})).then((function(){return Object.entries(r).sort().map((function(t){var n=Object(l.a)(t,2),r=(n[0],n[1]);e.push(r)}))})).catch((function(t){console.log("Error getting document:",t)}));case 4:return t.sent,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getCollection",value:function(){var t=Object(p.a)(u.a.mark((function t(e){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=m.firestore(),r=[],a=[],t.next=5,n.collection(e).get().then((function(t){if(0==t.size)return-1;t.forEach((function(t){a=t.data()}))})).then((function(){return a!=[]?Object.entries(a).sort().map((function(t){var e=Object(l.a)(t,2),n=(e[0],e[1]);r.push(n)})):-1})).catch((function(t){console.log("Error getting document:",t)}));case 5:if(0!=t.sent.length){t.next=10;break}return t.abrupt("return",-1);case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getDocument",value:function(){var t=Object(p.a)(u.a.mark((function t(e){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],r=m.firestore(),t.next=4,r.collection("new_categories").doc(e).get().then((function(t){Object.values(t.data()).sort().map((function(t){n.push(t)}))})).catch((function(t){return console.log("Error getting document:",t),-1}));case 4:return t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"addCollection",value:function(){var t=Object(p.a)(u.a.mark((function t(e){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=m.firestore(),r={1:e+"-1",2:e+"-2"},t.next=4,n.collection("new_categories").doc(e).set(r);case 4:return a=t.sent,t.next=7,this.getDocument(e);case 7:return a=t.sent,t.abrupt("return",a);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleSelect",value:function(){var t=Object(p.a)(u.a.mark((function t(e){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,t.next=3,this.getCollection(n.toLowerCase());case 3:if(-1!=(r=t.sent)){t.next=12;break}return t.next=7,this.getDocument(n.toLowerCase());case 7:if(0!=(r=t.sent).length){t.next=12;break}return t.next=11,this.addCollection(n.toLowerCase());case 11:r=t.sent;case 12:(a=this.state.select_list).push({options:r}),this.setState({select_list:a});case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=Object(p.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this.getInitialCollection();case 3:t.t1=t.sent,t.t2={data:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(r.jsx)(a.Fragment,{children:Object(r.jsx)("div",{style:{display:"flex",margin:"auto",width:"60%",height:window.innerHeight,backgroundColor:"#7bdcb5"},children:Object(r.jsxs)(g.a,{style:{display:"flex",margin:"auto",width:"100%"},children:[Object(r.jsx)(g.a.Item,{style:{backgroundColor:"inherit",border:"0px"},children:Object(r.jsxs)("select",{className:"form-control",onChange:this._handleSelect,children:[Object(r.jsx)("option",{disabled:!0,selected:!0,children:"Select..."}),this.state.data.map(this.renderNewOption)]})}),this.state.select_list.map((function(e){return Object(r.jsx)(g.a.Item,{style:{backgroundColor:"#7bdcb5",border:"0px"},children:Object(r.jsxs)("select",{className:"form-control",onChange:t._handleSelect,children:[Object(r.jsx)("option",{disabled:!0,selected:!0,children:"Select..."}),Object(r.jsx)("option",{children:e.options[0]}),Object(r.jsx)("option",{children:e.options[1]})]})})}))]})})})}}]),n}(a.Component)),x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),r(t),a(t),c(t),o(t)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(v,{})}),document.getElementById("root")),x()}},[[35,1,2]]]);
//# sourceMappingURL=main.9bb4617b.chunk.js.map